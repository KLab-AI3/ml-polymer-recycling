/* --- Explainability Panel Styles --- */

.card__subtitle {
  font-size: 1rem;
  color: var(--color-text-secondary);
  margin: calc(-1 * var(--spacing-sm)) 0 var(--spacing-md) 0;
  line-height: 1.5;
}

.explanation-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--spacing-lg);
  margin-top: var(--spacing-lg);
}

@media (min-width: 1024px) {
  .explanation-layout {
    /* Prediction summary takes 1/3, feature importance takes 2/3 */
    grid-template-columns: 1fr 2fr;
    align-items: start;
  }
}

/* --- Prediction Summary Card --- */
.prediction-summary-content {
  text-align: center;
}
.prediction-badge {
  display: inline-block;
  padding: var(--spacing-sm) var(--spacing-lg);
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: 0.05em;
  border-radius: var(--radius-md);
  color: var(--color-text-on-primary);
  margin-bottom: var(--spacing-xs);
  text-transform: uppercase;
}
/* Use existing color variables for consistency */
.prediction-badge.stable { background-color: var(--color-primary); }
.prediction-badge.weathered { background-color: var(--color-danger); }

.confidence-score {
  font-size: 1.1rem;
  color: var(--color-text-secondary);
  font-weight: 500;
  margin-bottom: var(--spacing-lg);
}

.probability-breakdown {
  text-align: left;
  margin-top: var(--spacing-lg);
  border-top: 1px solid var(--color-border);
  padding-top: var(--spacing-lg);
}
.probability-item {
  display: grid;
  grid-template-columns: 80px 1fr 50px;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
  font-size: 0.9rem;
}
.class-label { font-weight: 500; text-transform: capitalize; }
.probability-bar { height: 12px; background-color: var(--color-bg-alt); border-radius: 6px; overflow: hidden; }
.probability-fill { height: 100%; border-radius: 6px; transition: width 0.3s ease-in-out; }
.probability-fill.stable { background-color: var(--color-primary); }
.probability-fill.weathered { background-color: var(--color-danger); }
.probability-value { font-family: var(--font-mono); font-weight: 500; text-align: right; }
.model-info-footer { margin-top: var(--spacing-md); font-size: 0.8rem; color: var(--color-text-tertiary); text-align: center; }

/* --- Feature Importance Card --- */
.importance-summary {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background-color: var(--color-bg-alt);
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-lg);
}
.summary-item label { display: block; font-size: 0.8rem; color: var(--color-text-secondary); font-weight: 500; }
.summary-item span { font-size: 1rem; font-weight: 600; font-family: var(--font-mono); text-transform: capitalize; }

.top-features-title { font-size: 1rem; font-weight: 600; margin: var(--spacing-lg) 0 var(--spacing-sm) 0; }
.features-grid { display: flex; flex-direction: column; gap: var(--spacing-sm); }
.feature-item { display: grid; grid-template-columns: 60px 1fr 50px; align-items: center; gap: var(--spacing-md); font-size: 0.9rem; }
.feature-index { font-family: var(--font-mono); color: var(--color-text-secondary); background-color: var(--color-bg-alt); padding: var(--spacing-xs); border-radius: var(--radius-sm); text-align: center; }
.importance-bar { height: 16px; background-color: var(--color-bg-alt); border-radius: 8px; overflow: hidden; }
.importance-fill { height: 100%; background-color: var(--color-primary); border-radius: 8px; transition: width 0.3s ease-in-out;}
.importance-value { font-family: var(--font-mono); font-weight: 500; text-align: right; }

.interpretation-guide { margin-top: var(--spacing-lg); }
.interpretation-guide ul { margin: 0; padding-left: var(--spacing-md); font-size: 0.9rem; }
.interpretation-guide li { margin-bottom: var(--spacing-xs); }
.interpretation-guide li::marker { color: var(--color-primary); }
